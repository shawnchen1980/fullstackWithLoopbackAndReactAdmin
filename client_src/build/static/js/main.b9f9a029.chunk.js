(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{452:function(e,t,a){e.exports=a(788)},459:function(e,t,a){},788:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),o=a(45),i=a.n(o),c=a(6),s=(a(459),a(38)),l=a(39),u=a(41),d=a(40),m=a(42),p=a(740),h=a(808),f=a(798),b=a(815),g=a(807),v=a(813),E=a(57),y=Object(E.d)(function(e){return r.a.createElement(f.a,e)}),O=(Object(c.b)(function(e){return console.log(e.currentWordbook),{currentWordbook:e.currentWordbook}})(function(e){return console.log("currentwordlist is refreshed!",e.currentWordbook),e.currentWordbook?r.a.createElement(y,Object.assign({},e,{name:"Wordsfrombooks/".concat(e.currentWordbook,"/words"),list:v.a})):null}),a(79)),w=a.n(O),k=a(62),j=a(54),x=a(259),C=a(405),_=a(403),S=a(8),W=a.n(S),N=a(167),T=a.n(N),I=a(28),P=a.n(I),R=a(65),L=a.n(R),A=a(102),B=a.n(A),D=a(75),F=a.n(D),M=a(66),J=a.n(M),U=a(5),z=a(168),H=a.n(z),V=a(390),q=a(49),$=a(100),K=a(812),X=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;return"SET_USER"===a?n.user:e},G={setUser:Object(K.a)("SET_USER",function(e){return{user:e}})},Q={palette:{secondary:{light:"#5f5fc4",main:"#283593",dark:"#001064",contrastText:"#fff"}}},Y=function(e){var t=e.meta,a=(t=void 0===t?{}:t).touched,n=t.error,o=Object(x.a)({},e.input),i=Object(j.a)(e,["meta","input"]);return r.a.createElement(J.a,Object.assign({error:!(!a||!n),helperText:a&&n},o,i,{fullWidth:!0}))},Z=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).login=function(e){a.props.userLogin(e,a.props.location.state?a.props.location.state.nextPathname:"/")},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.handleSubmit,n=e.isLoading,o=e.translate;return r.a.createElement("div",{className:t.main},r.a.createElement(L.a,{className:t.card},r.a.createElement("div",{className:t.avatar},r.a.createElement(T.a,{className:t.icon},r.a.createElement(H.a,null))),r.a.createElement("form",{onSubmit:a(this.login)},r.a.createElement("div",{className:t.hint},"Hint: demo / demo"),r.a.createElement("div",{className:t.form},r.a.createElement("div",{className:t.input},r.a.createElement(C.a,{autoFocus:!0,name:"email",component:Y,label:o("ra.auth.email"),disabled:n})),r.a.createElement("div",{className:t.input},r.a.createElement(C.a,{name:"password",component:Y,label:o("ra.auth.password"),type:"password",disabled:n}))),r.a.createElement(B.a,{className:t.actions},r.a.createElement(P.a,{variant:"raised",type:"submit",color:"primary",disabled:n,className:t.button,fullWidth:!0},n&&r.a.createElement(F.a,{size:25,thickness:2}),o("ra.auth.sign_in"))))),r.a.createElement(V.a,null))}}]),t}(n.Component),ee=W()(q.a,Object(_.a)({form:"signIn",validate:function(e,t){var a={},n=t.translate;return e.email||(a.email=n("ra.validation.required")),e.password||(a.password=n("ra.validation.required")),a}}),Object(c.b)(function(e){return{isLoading:e.admin.loading>0}},Object(k.a)({userLogin:$.h},G)),Object(U.withStyles)(function(e){return{main:{display:"flex",flexDirection:"column",minHeight:"100vh",alignItems:"center",justifyContent:"flex-start",background:"url(https://source.unsplash.com/random/1600x900)",backgroundRepeat:"no-repeat",backgroundSize:"cover"},card:{minWidth:300,marginTop:"6em"},avatar:{margin:"1em",display:"flex",justifyContent:"center"},icon:{backgroundColor:e.palette.secondary.main},hint:{marginTop:"1em",display:"flex",justifyContent:"center",color:e.palette.grey[500]},form:{padding:"0 1em 1em 1em"},input:{marginTop:"1em"},actions:{padding:"0 1em 1em 1em"}}}))(Z),te=function(e){return r.a.createElement(U.MuiThemeProvider,{theme:Object(U.createMuiTheme)(Q)},r.a.createElement(ee,e))},ae=a(18),ne=a(101),re=a(30),oe={palette:{secondary:{light:"#5f5fc4",main:"#283593",dark:"#001064",contrastText:"#fff"}}},ie=function(e){var t=e.meta,a=(t=void 0===t?{}:t).touched,n=t.error,o=Object(x.a)({},e.input),i=Object(j.a)(e,["meta","input"]);return r.a.createElement(J.a,Object.assign({error:!(!a||!n),helperText:a&&n},o,i,{fullWidth:!0}))},ce=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).login=function(e){var t=e.email,n=e.password,r=a.props,o=r.push,i=r.showNotification;fetch("http://localhost:3000/api/Users",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t,password:n})}).then(function(e){if(console.log(e),e.status>=400)throw new Error(e.statusText);i("ra.auth.sign_up_success"),o("/login")}).catch(function(e){console.log(e),i("ra.auth.sign_up_failure")})},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.handleSubmit,n=e.isLoading,o=e.translate;e.push,e.showNotification;return r.a.createElement("div",{className:t.main},r.a.createElement(L.a,{className:t.card},r.a.createElement("div",{className:t.avatar},r.a.createElement(T.a,{className:t.icon},r.a.createElement(H.a,null))),r.a.createElement("form",{onSubmit:a(this.login)},r.a.createElement("div",{className:t.hint},"Hint: demo / demo"),r.a.createElement("div",{className:t.form},r.a.createElement("div",{className:t.input},r.a.createElement(C.a,{autoFocus:!0,name:"email",component:ie,label:o("ra.auth.email"),disabled:n})),r.a.createElement("div",{className:t.input},r.a.createElement(C.a,{name:"password",component:ie,label:o("ra.auth.password"),type:"password",disabled:n})),r.a.createElement("div",{className:t.input},r.a.createElement(C.a,{name:"passRepeat",component:ie,label:o("ra.auth.passRepeat"),type:"password",disabled:n}))),r.a.createElement(B.a,{className:t.actions},r.a.createElement(P.a,{variant:"raised",type:"submit",color:"primary",disabled:n,className:t.button,fullWidth:!0},n&&r.a.createElement(F.a,{size:25,thickness:2}),o("ra.auth.sign_up"))))),r.a.createElement(V.a,null))}}]),t}(n.Component),se=W()(q.a,Object(_.a)({form:"signUp",validate:function(e,t){var a={},n=t.translate;return e.email||(a.email=n("ra.validation.required")),e.password!==e.passRepeat&&(a.password=n("ra.validation.passRepeat")),e.password||(a.password=n("ra.validation.required")),a}}),Object(c.b)(function(e){return{isLoading:e.admin.loading>0}},{userLogin:$.h,push:re.push,showNotification:ne.d}),Object(U.withStyles)(function(e){return{main:{display:"flex",flexDirection:"column",minHeight:"100vh",alignItems:"center",justifyContent:"flex-start",background:"url(https://source.unsplash.com/random/1600x900)",backgroundRepeat:"no-repeat",backgroundSize:"cover"},card:{minWidth:300,marginTop:"6em"},avatar:{margin:"1em",display:"flex",justifyContent:"center"},icon:{backgroundColor:e.palette.secondary.main},hint:{marginTop:"1em",display:"flex",justifyContent:"center",color:e.palette.grey[500]},form:{padding:"0 1em 1em 1em"},input:{marginTop:"1em"},actions:{padding:"0 1em 1em 1em"}}}))(ce),le=function(e){return r.a.createElement(U.MuiThemeProvider,{theme:Object(U.createMuiTheme)(oe)},r.a.createElement(se,e))},ue=function(){return r.a.createElement("div",null,"Unauthorized user!!")},de=[r.a.createElement(ae.d,{exact:!0,path:"/signup",component:le}),r.a.createElement(ae.d,{exact:!0,path:"/unauthorized",component:ue})],me=a(809),pe=a(4),he=a.n(pe),fe=a(262),be=a.n(fe),ge=a(74),ve=a.n(ge),Ee=a(35),ye=a.n(Ee),Oe=a(26),we=a.n(Oe),ke=a(263),je=a.n(ke),xe=a(90),Ce=a.n(xe),_e=a(315),Se=a(88),We=a.n(Se),Ne=a(169),Te=a.n(Ne),Ie=a(260),Pe=a.n(Ie),Re=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={auth:!0,anchorEl:null},a.handleChange=function(e,t){a.setState({auth:t})},a.handleMenu=function(e){a.setState({anchorEl:e.currentTarget})},a.handleClose=function(){a.setState({anchorEl:null})},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.children,o=t.label,i=t.icon,c=t.logout,s=t.translate;if(!c&&!a)return null;var l=this.state.anchorEl,u=Boolean(l);return r.a.createElement("div",null,r.a.createElement(We.a,{title:o&&s(o,{_:o})},r.a.createElement(ye.a,{"aria-label":o&&s(o,{_:o}),"aria-owns":u?"menu-appbar":null,"aria-haspopup":!0,color:"inherit",onClick:this.handleMenu},i)),r.a.createElement(Te.a,{id:"menu-appbar",anchorEl:l,anchorOrigin:{vertical:"top",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},open:u,onClose:this.handleClose},n.Children.map(a,function(t){return Object(n.cloneElement)(t,{onClick:e.handleClose})}),c))}}]),t}(r.a.Component);Re.defaultProps={label:"ra.auth.user_menu",icon:r.a.createElement(Pe.a,null)};var Le=Object(q.a)(Re),Ae=a(261),Be=a.n(Ae),De={position:"fixed",zIndex:1300},Fe=function(e){var t=e.children;return r.a.createElement(Be.a,{style:De},t)},Me=function(e){var t=e.children,a=e.classes,o=e.className,i=(e.logo,e.logout),c=e.open,s=(e.title,e.toggleSidebar),l=e.userMenu,u=e.width,d=e.userName,m=Object(j.a)(e,["children","classes","className","logo","logout","open","title","toggleSidebar","userMenu","width","userName"]);return r.a.createElement(Fe,null,r.a.createElement(be.a,Object.assign({className:o,color:"secondary",position:"static"},m),r.a.createElement(ve.a,{disableGutters:!0,variant:"xs"===u?"regular":"dense",className:a.toolbar},r.a.createElement(ye.a,{color:"inherit","aria-label":"open drawer",onClick:s,className:he()(a.menuButton)},r.a.createElement(je.a,{classes:{root:c?a.menuButtonIconOpen:a.menuButtonIconClosed}})),0===n.Children.count(t)?r.a.createElement(we.a,{variant:"title",color:"inherit",className:a.title,id:"react-admin-title"}):t,r.a.createElement("span",null,d),Object(n.cloneElement)(l,{logout:i}))))};Me.defaultProps={userMenu:r.a.createElement(Le,null)};var Je=W()(Object(c.b)(function(e){return{locale:e.i18n.locale,userName:e.user}},{toggleSidebar:_e.f}),Object(U.withStyles)(function(e){return{toolbar:{paddingRight:24},menuButton:{marginLeft:"0.5em",marginRight:"0.5em"},menuButtonIconClosed:{transition:e.transitions.create(["transform"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),transform:"rotate(0deg)"},menuButtonIconOpen:{transition:e.transitions.create(["transform"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),transform:"rotate(180deg)"},title:{flex:1,textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}}),Ce()())(Me),Ue=Object(ae.f)(function(e){var t;return console.log(e),t="/signup"===e.location.pathname||"/Wordbooks"===e.location.pathname?e.children:r.a.createElement(me.a,Object.assign({},e,{appBar:Je})),console.log(t),t}),ze=a(73),He=Object(c.b)(null,{createPractice:function(e,t){return{type:"PRACTICE_CREATE",payload:{data:{bookId:e.id,lastAccessed:Date.now()}},meta:{fetch:ze.a,resource:"appusers/me/practices",onSuccess:{notification:{body:"resources.comments.notification.approved_success",level:"info"},redirectTo:"/testsfrombooks/".concat(e.id,"/words"),basePath:t},onFailure:{notification:{body:"resources.comments.notification.approved_failure",level:"warning"}}}}}})(function(e){var t=e.createPractice,a=e.record,n=e.basePath;return r.a.createElement(P.a,{color:"primary",onClick:function(){console.log(a),console.log(t),t(a,n)}},"\u521b\u5efa\u7ec3\u4e60")}),Ve=a(376),qe=function(e){function t(e){var a;Object(s.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).state={read:!0},a.handleClick=function(e){e.stopPropagation(),a.setState({read:!a.state.read})},a.handleChange=function(e){a.setState({text:e.target.value})},a.handleConfirm=function(e){var t=a.props,n=t.location,r=n.pathname,o=n.search,i=t.basePath,c=t.renameWordbook,s=(t.source,t.record);console.log("record",s),c({data:Object(k.a)({},s,{name:a.state.text}),id:s.id},i,r+o)};var n=a.props,r=n.source,o=n.record;return a.state={read:!0,text:o[r]},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.source,a=e.record,o=e.location,i=e.match,c=e.history,s=e.basePath;console.log("editable",o,i,c,s);var l=this.props;l.renameWordbook,Object(j.a)(l,["renameWordbook"]);return r.a.createElement("div",{onClick:function(e){e.stopPropagation()}},this.state.read?r.a.createElement(Ve.a,{source:t,record:a}):r.a.createElement(n.Fragment,null,r.a.createElement("input",{onChange:this.handleChange,value:this.state.text}),r.a.createElement("button",{onClick:this.handleConfirm},"confirm")),r.a.createElement("button",{onClick:this.handleClick},"change"))}}]),t}(n.Component),$e=Object(E.d)(Object(c.b)(null,{renameWordbook:function(e,t,a){return{type:"WORDBOOK_RENAME",payload:e,meta:{fetch:ze.h,resource:"Wordbooks",onSuccess:{notification:{body:"resources.comments.notification.approved_success",level:"info"},redirectTo:a,basePath:t},onFailure:{notification:{body:"resources.comments.notification.approved_failure",level:"warning"}}}}}})(qe)),Ke=Object(c.b)(null,{browseWordbook:function(e,t){return{type:"BROWSE_WORDBOOK",payload:{api_url:"wordbooks/".concat(e.id,"/words"),other:{bookId:e.id,lastAccessed:Date.now()},pagination:{},sort:{}},meta:{fetch:ze.d,resource:"Words",onSuccess:{notification:{body:"resources.comments.notification.approved_success",level:"info"},redirectTo:"/words",basePath:t},onFailure:{notification:{body:"resources.comments.notification.approved_failure",level:"warning"}}}}}})(function(e){var t=e.browseWordbook,a=e.record,n=e.basePath;return r.a.createElement(P.a,{color:"primary",onClick:function(){console.log(a),console.log(t),localStorage.setItem("api_url","wordbooks/".concat(a.id,"/words")),t(a,n)}},"\u67e5\u770b\u8bcd\u6761")}),Xe=a(34),Ge=a(719),Qe=a(720),Ye=a(726),Ze=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={text:""},a.handleInput=function(){var e=a.state.text.split("/").map(function(e){return{spelling:e}}),t=a.props.openNext;console.log(e),console.log(a.props),a.props.change(a.props.meta.form,a.props.input.name,e),t()},a.handleChange=function(e){a.setState({text:e.target.value})},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(n.Fragment,null,r.a.createElement("textarea",{value:this.state.text,onChange:this.handleChange}),r.a.createElement("button",{type:"button",onClick:function(){return e.handleInput()}},"output"))}}]),t}(n.Component),et=Object(c.b)(null,{change:Xe.change})(Ze),tt=(n.Component,a(195)),at=a.n(tt),nt=a(197),rt=a.n(nt),ot=a(196),it=a.n(ot),ct=a(105),st=a.n(ct),lt=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={expanded:null},a.handleChange=function(e){return function(t,n){a.setState({expanded:!!n&&e})}},a.openNext=function(){a.setState({expanded:"panel2"})},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.source,n=this.state.expanded;return r.a.createElement("div",{className:t.root},r.a.createElement(at.a,{expanded:"panel1"===n,onChange:this.handleChange("panel1")},r.a.createElement(it.a,{expandIcon:r.a.createElement(st.a,null)},r.a.createElement(we.a,{className:t.heading},"\u5feb\u6377\u8f93\u5165"),r.a.createElement(we.a,{className:t.secondaryHeading},"\u5229\u7528\u6587\u672c\u6846\u5feb\u901f\u8f93\u5165\u5927\u91cf\u5355\u8bcd\uff0c\u5355\u8bcd\u4e4b\u95f4\u7528\u5206\u9694\u7b26\u5206\u5272\uff0c\u8f93\u5165\u5b8c\u6210\u540e\u6309\u5bfc\u5165\u6309\u94ae")),r.a.createElement(rt.a,null,r.a.createElement(C.a,{name:a,component:et,openNext:this.openNext}))),r.a.createElement(at.a,{expanded:"panel2"===n,onChange:this.handleChange("panel2")},r.a.createElement(it.a,{expandIcon:r.a.createElement(st.a,null)},r.a.createElement(we.a,{className:t.heading},"\u8f93\u5165\u6821\u9a8c"),r.a.createElement(we.a,{className:t.secondaryHeading},"\u6b63\u5f0f\u5bfc\u5165\u524d\u8fdb\u884c\u6570\u636e\u68c0\u67e5\uff0c\u65e0\u8bef\u540e\u4fdd\u5b58")),r.a.createElement(rt.a,null,r.a.createElement(Ge.a,{source:a},r.a.createElement(Qe.a,null,r.a.createElement(Ye.a,{source:"spelling"}))))))}}]),t}(r.a.Component),ut=Object(U.withStyles)(function(e){return{root:{width:"100%",marginTop:50},heading:{fontSize:e.typography.pxToRem(15),flexBasis:"33.33%",flexShrink:0},secondaryHeading:{fontSize:e.typography.pxToRem(15),color:e.palette.text.secondary}}})(lt),dt=a(811),mt=a(789),pt=a(404),ht=a(792),ft=a(803),bt=a(804),gt=a(817),vt=a(791),Et=a(407),yt=a(805),Ot=a(793),wt=a(737),kt=a(816),jt=a(738),xt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;return"SET_WORDBOOK"===a?n.currentWordbook:e},Ct={setWordbook:Object(K.a)("SET_WORDBOOK",function(e){return{currentWordbook:e}})},_t=function(e){return r.a.createElement(dt.a,e,r.a.createElement(Ye.a,{label:"Search",source:"q",alwaysOn:!0}),r.a.createElement(Ye.a,{label:"Title",source:"title",defaultValue:"Hello, World!"}))},St=Object(c.b)(null,Object(k.a)({},Ct))(function(e){var t=e.setCurrentWordbook,a=e.setWordbook,n=Object(j.a)(e,["setCurrentWordbook","setWordbook"]);return console.log("setCurrentWordbook",n),r.a.createElement(mt.b,Object.assign({},n,{filters:r.a.createElement(_t,null)}),r.a.createElement(pt.a,{rowClick:function(e,r,o){return console.log(n.setWordbook),t(e),a(e),"show"}},r.a.createElement(Ve.a,{source:"name"}),r.a.createElement(Ve.a,{source:"id"}),r.a.createElement($e,{source:"name"})))}),Wt=function(e){return function(t){return r.a.createElement(St,Object.assign({},t,{setCurrentWordbook:e}))}},Nt=function(e){return r.a.createElement(ht.b,e,r.a.createElement(ft.a,null,r.a.createElement(bt.a,{label:"basic"},r.a.createElement(Ve.a,{source:"id"}),r.a.createElement(Ye.a,{source:"name"})),r.a.createElement(bt.a,{label:"words",path:"showWords"},r.a.createElement(gt.a,{label:"Words",reference:"WordMappings",target:"bookId",pagination:r.a.createElement(vt.a,null)},r.a.createElement(pt.a,null,r.a.createElement(Ve.a,{source:"wordId"}),r.a.createElement(Ve.a,{source:"word.spelling"}),r.a.createElement(Et.a,{label:"spelling",source:"wordId",reference:"Words"},r.a.createElement(Ve.a,{source:"spelling"}))))),r.a.createElement(bt.a,{label:"new words",path:"addWords"},r.a.createElement(ut,{source:"words"}))))},Tt={zIndex:2,display:"inline-block",float:"right"},It=Object(E.d)(function(e){var t=e.basePath,a=e.data,n=e.resource,o=e.history;return r.a.createElement(B.a,{style:Tt},r.a.createElement(yt.a,{basePath:t,record:a}),r.a.createElement(P.a,{color:"primary",onClick:function(){console.log(t,a,n,o),o.push("/wordsfrombooks/".concat(a.id,"/words"))}},"\u67e5\u770b\u5355\u8bcd\u8868"),r.a.createElement(He,{basePath:t,record:a}),r.a.createElement(Ke,{basePath:t,record:a}))}),Pt=function(e){return r.a.createElement(Ot.b,Object.assign({actions:r.a.createElement(It,null)},e),r.a.createElement(wt.a,null,r.a.createElement(Ve.a,{source:"name"}),r.a.createElement(Ve.a,{source:"id"}),r.a.createElement(gt.a,{label:"Words",reference:"WordMappings",target:"bookId"},r.a.createElement(pt.a,null,r.a.createElement(Ve.a,{source:"wordId"}),r.a.createElement(Et.a,{label:"spelling",source:"wordId",reference:"Words"},r.a.createElement(Ve.a,{source:"spelling"}))))))},Rt=function(e){return r.a.createElement(kt.a,e,r.a.createElement(jt.a,null,r.a.createElement(Ye.a,{source:"name"}),r.a.createElement(Ge.a,{source:"words"},r.a.createElement(Qe.a,null,r.a.createElement(Ye.a,{source:"spelling"})))))},Lt=(Object(c.b)(function(e){return{filter:{bookId:e.currentWordbook}}})(function(e){return r.a.createElement(mt.b,e,r.a.createElement(pt.a,{rowClick:"edit"},r.a.createElement(Ve.a,{source:"id"}),r.a.createElement(Ve.a,{source:"bookId"}),r.a.createElement(Ve.a,{source:"wordId"}),r.a.createElement(Ve.a,{source:"wordbook.name"}),r.a.createElement(Ve.a,{source:"word.spelling"})))}),a(375)),At=function(e){var t=e.setCurrentWordbook,a=Object(j.a)(e,["setCurrentWordbook"]);return console.log("setCurrentWordbook",a),r.a.createElement(mt.b,a,r.a.createElement(pt.a,{rowClick:function(e,n,r){return console.log(a.setWordbook),t(e),"edit"}},r.a.createElement(Lt.a,{source:"lastAccessed"}),r.a.createElement(Ve.a,{source:"id"}),r.a.createElement(Et.a,{source:"bookId",reference:"Wordbooks"},r.a.createElement(Ve.a,{source:"name"})),r.a.createElement(Ve.a,{source:"progress"})))},Bt=function(e){return function(t){return r.a.createElement(At,Object.assign({},t,{setCurrentWordbook:e}))}},Dt=Object(c.b)(function(e){return{api_url:"wordbooks/".concat(e.currentWordbook,"/words")}})(function(e){var t=e.api_url,a=e.filter,n=(e.dispatch,Object(j.a)(e,["api_url","filter","dispatch"]));return r.a.createElement(mt.b,Object.assign({},n,{filter:Object(k.a)({},a,{api_url:t})}),r.a.createElement(pt.a,{rowClick:"edit"},r.a.createElement(Ve.a,{source:"spelling"}),r.a.createElement(Ve.a,{source:"id"})))}),Ft=function(e){return r.a.createElement(kt.a,e,r.a.createElement(jt.a,null,r.a.createElement(Ye.a,{source:"spelling"}),r.a.createElement(Ye.a,{source:"id"})))},Mt=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).state={hasError:!1},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidCatch",value:function(e,t){console.log(e,t)}},{key:"render",value:function(){return this.state.hasError?r.a.createElement("h1",null,"Something went wrong."):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{hasError:!0}}}]),t}(r.a.Component),Jt=a(108),Ut=a(98),zt=a.n(Ut),Ht=a(180),Vt=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={animated:!1},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.letters;t.userInput;return r.a.createElement("div",{className:a.root},n.map(function(t){var n;return r.a.createElement(zt.a,{focusRipple:!0,key:t,className:e.state.animated?[a.image,Ht.animated,Ht.bounce].join(" "):a.image,focusVisibleClassName:a.focusVisible,ref:function(e){return n=e},onClick:function(){console.log(Ht),console.log("el",n,Ht.animated,Ht.bounce),e.setState({animated:!e.state.animated})},onAnimationEnd:function(){e.setState({animated:!1})},style:{width:"50%",maxWidth:200}},r.a.createElement("span",{className:a.imageSrc}),r.a.createElement("span",{className:a.imageRight}),r.a.createElement("span",{className:a.imageButton},r.a.createElement(we.a,{component:"span",variant:"subtitle1",color:"inherit",className:a.imageTitle},t,r.a.createElement("span",{className:a.imageMarked}))))}))}}]),t}(n.Component),qt=Object(U.withStyles)(function(e){var t;return{root:{display:"flex",flexWrap:"wrap",minWidth:300,width:"100%",alignItems:"center",justifyContent:"center"},image:(t={position:"relative",height:200},Object(Jt.a)(t,e.breakpoints.down("xs"),{width:"100% !important",height:100}),Object(Jt.a)(t,"&:hover, &$focusVisible",{zIndex:1,"& $imageBackdrop":{opacity:.15},"& $imageMarked":{opacity:0},"& $imageTitle":{border:"4px solid currentColor"}}),Object(Jt.a)(t,"&:focus",{"& $imageRight":{opacity:1,transitionDuration:"500ms"}}),t),focusVisible:{},imageSrc:{position:"absolute",left:0,right:0,top:0,bottom:0,backgroundColor:"grey"},imageBackdrop:{position:"absolute",left:0,right:0,top:0,bottom:0,backgroundColor:e.palette.common.black,opacity:.4,transition:e.transitions.create("opacity")},imageRight:{position:"absolute",left:0,right:0,top:0,bottom:0,backgroundColor:"green",opacity:0,transition:e.transitions.create("opacity"),transitionDuration:"500ms"},imageButton:{position:"absolute",left:0,right:0,top:0,bottom:0,display:"flex",alignItems:"center",justifyContent:"center",color:e.palette.common.white},imageTitle:{position:"relative",padding:"".concat(2*e.spacing.unit,"px ").concat(4*e.spacing.unit,"px ").concat(e.spacing.unit+6,"px")},imageMarked:{height:3,width:18,backgroundColor:e.palette.common.white,position:"absolute",bottom:-2,left:"calc(50% - 9px)",transition:e.transitions.create("opacity")}}})(Vt);function $t(e,t){var a=e.toLowerCase().charAt(0),n=a.charCodeAt(0);if(a<"a"||a>"z"||t<=0)throw new Error("params error in generateRandomCharArray");var r=[a],o=function(e,t,a){if(t<=e||a<=0)throw new Error("params error in generateNumsArray");for(var n=[];n.length<a;){var r=e+Math.floor((t-e+1)*Math.random());n.includes(r)||n.push(r)}return n}(1,25,t-1).map(function(e){return String.fromCharCode(e+n>122?e+n-26:e+n)});return r.concat(o).sort()}var Kt=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={charIndex:0,userInput:[]},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"handleInput",value:function(e){var t=this.props,a=t.spelling,n=t.mode,r=t.onComplete;if("learning"!==n||e===a.charAt(this.state.charIndex))return this.setState(function(t){return{userInput:t.userInput.concat(e),charIndex:t.charIndex+1}}),this.state.userInput.length===a.length-1?setTimeout(function(){r()},1e3):void 0}},{key:"componentWillReceiveProps",value:function(){this.setState({charIndex:0,userInput:[]})}},{key:"render",value:function(){var e=this.props.classes;return r.a.createElement("div",{className:e.root},r.a.createElement("h2",null,this.props.spelling),r.a.createElement("h2",null,this.state.userInput.join("")+"_".repeat(this.props.spelling.length-this.state.userInput.length)),this.props.spelling.length>this.state.charIndex?r.a.createElement(qt,{letters:$t(this.props.spelling.charAt(this.state.charIndex),2),userInput:this.handleInput.bind(this)}):null)}}]),t}(n.Component);Kt.defaultProps={spelling:"wtf"};var Xt=Object(U.withStyles)(function(e){return{root:{display:"flex",flexWrap:"wrap",minWidth:300,width:"100%",alignItems:"center",justifyContent:"center"}}})(Kt),Gt=a(448).a.div({inFromRight1:{opacity:1,x:0,transition:{x:function(e){return{type:"keyframes",values:[e.from,-1e3,1e3,e.to],times:[0,.5,.51,1],duration:1e3}},opacity:function(e){return{type:"keyframes",values:[e.from,0,0,e.to],times:[0,.5,.51,1],duration:1e3}}}},inFromRight2:{opacity:1,x:0,transition:{x:function(e){return{type:"keyframes",values:[e.from,-1e3,1e3,e.to],times:[0,.5,.51,1],duration:1e3}},opacity:function(e){return{type:"keyframes",values:[e.from,0,0,e.to],times:[0,.5,.51,1],duration:1e3}}}},inFromLeft1:{opacity:1,x:0,transition:{x:function(e){return{type:"keyframes",values:[e.from,1e3,-1e3,e.to],times:[0,.5,.51,1],duration:1e3}},opacity:function(e){return{type:"keyframes",values:[e.from,0,0,e.to],times:[0,.5,.51,1],duration:1e3}}}},inFromLeft2:{opacity:1,x:0,transition:{x:function(e){return{type:"keyframes",values:[e.from,1e3,-1e3,e.to],times:[0,.5,.51,1],duration:1e3}},opacity:function(e){return{type:"keyframes",values:[e.from,0,0,e.to],times:[0,.5,.51,1],duration:1e3}}}}}),Qt=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={index:0,swipeToLeft:!0,myPose:"inFromRight1"},a.switchToL=function(){a.setState({swipeToLeft:!0,myPose:"inFromRight1"===a.state.myPose?"inFromRight2":"inFromRight1"})},a.switchToR=function(){a.setState({swipeToLeft:!1,myPose:"inFromLeft1"===a.state.myPose?"inFromLeft2":"inFromLeft1"})},a.handleToPrev=function(){var e=a.props;e.ids,e.data,e.basePath;a.setState(function(e){return e.index?{index:e.index-1}:e}),a.switchToR()},a.handleToNext=function(){var e=a.props,t=e.ids;e.data,e.basePath;a.setState(function(e){return e.index<t.length-1?{index:e.index+1}:e}),a.switchToL()},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.ids,a=e.data;e.basePath,e.location;return r.a.createElement(Mt,null,r.a.createElement("div",null,r.a.createElement("button",{onClick:this.handleToPrev},"prev"),r.a.createElement("button",{onClick:this.handleToNext},"next"),r.a.createElement(Gt,{pose:this.state.myPose},t.length&&t[this.state.index]&&a[t[this.state.index]].word?r.a.createElement(Xt,{key:this.state.index,mode:"learning",spelling:a[t[this.state.index]].word.spelling,onComplete:this.handleToNext}):null)))}}]),t}(n.Component),Yt=(Object(E.d)(Qt),function(e){e.dispatch;var t=Object(j.a)(e,["dispatch"]);return r.a.createElement(mt.b,t,r.a.createElement(Qt,null))}),Zt=Object(c.b)(function(e){return{filter:{bookId:e.currentWordbook}}})(Yt),ea=a(80),ta=function(e,t,a){if("undefined"===typeof Storage)return!1;var n=1e3*a,r={value:t,timestamp:(new Date).getTime()+n};return localStorage.setItem(e,JSON.stringify(r)),t},aa=function(e){if("undefined"===typeof Storage)return!1;try{var t=JSON.parse(localStorage.getItem(e));return!!t&&((new Date).getTime()<t.timestamp&&t.value)}catch(a){return!1}},na=function(e){if("undefined"===typeof Storage)return!1;localStorage.removeItem(e)},ra=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.user={authenticated:!0,token:aa("lbtoken").id},p.a.fetchJson(e,t)},oa=a(313),ia=a(236),ca=a.n(ia),sa=a(133),la=a.n(sa),ua=a(7),da=la.a.mark(ma);function ma(){return la.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ua.j)($.a,la.a.mark(function e(){var t;return la.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=JSON.parse(localStorage.getItem("lbtoken")),e.next=3,Object(ua.f)(G.setUser(t&&t.value&&t.value.username?t.value.username:"unknown user"));case 3:case"end":return e.stop()}},e,this)}));case 2:case"end":return e.stop()}},da,this)}var pa,ha,fa,ba={ra:{action:Object(Jt.a)({delete:"\u5220\u9664",show:"\u67e5\u770b",list:"\u5217\u8868",save:"\u4fdd\u5b58",create:"\u65b0\u5efa",edit:"\u7f16\u8f91",sort:"\u6392\u5e8f",cancel:"\u53d6\u6d88",undo:"\u64a4\u9500",refresh:"\u5237\u65b0",add:"\u589e\u52a0",remove:"\u5220\u9664",add_filter:"\u589e\u52a0\u68c0\u7d22",remove_filter:"\u79fb\u9664\u68c0\u7d22",back:"\u56de\u9000",bulk_actions:"\u9009\u4e2d%{smart_count}\u9879",export:"\u5bfc\u51fa",search:"\u68c0\u7d22"},"show","\u663e\u793a"),boolean:{true:"\u662f",false:"\u5426"},page:{list:"%{name} \u5217\u8868",edit:"%{name} #%{id}",show:"%{name} #%{id}",create:"\u65b0\u5efa %{name}",dashboard:"\u6982\u89c8",not_found:"\u672a\u53d1\u73b0",loading:"\u52a0\u8f7d\u4e2d",error:"\u51fa\u73b0\u9519\u8bef"},input:{file:{upload_several:"\u5c06\u6587\u4ef6\u96c6\u5408\u62d6\u62fd\u5230\u8fd9\u91cc, \u6216\u70b9\u51fb\u8fd9\u91cc\u9009\u62e9\u6587\u4ef6\u96c6\u5408.",upload_single:"\u5c06\u6587\u4ef6\u62d6\u62fd\u5230\u8fd9\u91cc, \u6216\u70b9\u51fb\u8fd9\u91cc\u9009\u62e9\u6587\u4ef6."},image:{upload_several:"\u5c06\u56fe\u7247\u6587\u4ef6\u96c6\u5408\u62d6\u62fd\u5230\u8fd9\u91cc, \u6216\u70b9\u51fb\u8fd9\u91cc\u9009\u62e9\u56fe\u7247\u6587\u4ef6\u96c6\u5408.",upload_single:"\u5c06\u56fe\u7247\u6587\u4ef6\u62d6\u62fd\u5230\u8fd9\u91cc, \u6216\u70b9\u51fb\u8fd9\u91cc\u9009\u62e9\u56fe\u7247\u6587\u4ef6."},references:{all_missing:"\u672a\u627e\u5230\u53c2\u8003\u6570\u636e.",many_missing:"\u81f3\u5c11\u6709\u4e00\u6761\u53c2\u8003\u6570\u636e\u4e0d\u518d\u53ef\u7528.",single_missing:"\u5173\u8054\u7684\u53c2\u8003\u6570\u636e\u4e0d\u518d\u53ef\u7528."}},message:{yes:"\u662f",no:"\u5426",are_you_sure:"\u60a8\u786e\u5b9a\u64cd\u4f5c?",about:"\u5173\u4e8e",not_found:"\u60a8\u8f93\u5165\u4e86\u9519\u8bef\u7684URL\u6216\u8005\u9519\u8bef\u7684\u94fe\u63a5.",loading:"\u6b63\u5728\u52a0\u8f7d\u9875\u9762, \u8bf7\u7a0d\u5019",invalid_form:"\u8868\u5355\u8f93\u5165\u65e0\u6548. \u8bf7\u68c0\u67e5\u9519\u8bef\u63d0\u793a",delete_title:"\u5220\u9664 %{name} #%{id}",delete_content:"\u60a8\u786e\u5b9a\u8981\u5220\u9664\u8be5\u6761\u76ee?",bulk_delete_title:"\u5220\u9664 %{name} |||| \u5220\u9664 %{smart_count}\u9879 %{name} ",bulk_delete_content:"\u60a8\u786e\u5b9a\u8981\u5220\u9664 %{name}? |||| \u60a8\u786e\u5b9a\u8981\u5220\u9664 %{smart_count} \u9879?"},navigation:{no_results:"\u7ed3\u679c\u4e3a\u7a7a",no_more_results:"\u9875\u7801 %{page} \u8d85\u51fa\u8fb9\u754c. \u8bd5\u8bd5\u4e0a\u4e00\u9875.",page_out_of_boundaries:"\u9875\u7801 %{page} \u8d85\u51fa\u8fb9\u754c",page_out_from_end:"\u5df2\u5230\u6700\u672b\u9875",page_out_from_begin:"\u5df2\u5230\u6700\u524d\u9875",page_range_info:"%{offsetBegin}-%{offsetEnd} / %{total}",page_rows_per_page:"\u6bcf\u9875\u884c\u6570:",next:"\u5411\u540e",prev:"\u5411\u524d"},auth:{user_menu:"\u8bbe\u7f6e",username:"\u7528\u6237\u540d",email:"\u90ae\u7bb1",password:"\u5bc6\u7801",passRepeat:"\u518d\u6b21\u786e\u8ba4\u5bc6\u7801",sign_in:"\u767b\u5f55",sign_up:"\u6ce8\u518c",sign_up_success:"\u6ce8\u518c\u6210\u529f,\u8bf7\u767b\u5f55",sign_up_failure:"\u6ce8\u518c\u5931\u8d25,\u8bf7\u91cd\u8bd5",sign_in_error:"\u9a8c\u8bc1\u5931\u8d25, \u8bf7\u91cd\u8bd5",logout:"\u9000\u51fa"},notification:Object(Jt.a)({updated:"\u6761\u76ee\u5df2\u66f4\u65b0 |||| %{smart_count} \u9879\u6761\u76ee\u5df2\u66f4\u65b0",created:"\u6761\u76ee\u5df2\u65b0\u5efa",deleted:"\u6761\u76ee\u5df2\u5220\u9664 |||| %{smart_count} \u9879\u6761\u76ee\u5df2\u5220\u9664",bad_item:"\u4e0d\u6b63\u786e\u7684\u6761\u76ee",item_doesnt_exist:"\u6761\u76ee\u4e0d\u5b58\u5728",http_error:"\u4e0e\u670d\u52a1\u901a\u4fe1\u51fa\u9519",canceled:"\u53d6\u6d88\u52a8\u4f5c",data_provider_error:"dataProvider\u9519\u8bef. \u8bf7\u68c0\u67e5console\u7684\u8be6\u7ec6\u4fe1\u606f."},"canceled","\u53d6\u6d88\u52a8\u4f5c"),validation:{required:"\u5fc5\u586b",minLength:"\u5fc5\u987b\u4e0d\u5c11\u4e8e %{min} \u4e2a\u5b57\u7b26",maxLength:"\u5fc5\u987b\u4e0d\u591a\u4e8e %{max} \u4e2a\u5b57\u7b26",minValue:"\u5fc5\u987b\u4e0d\u5c0f\u4e8e %{min}",maxValue:"\u5fc5\u987b\u4e0d\u5927\u4e8e %{max}",number:"\u5fc5\u987b\u4e3a\u6570\u5b57",email:"\u5fc5\u987b\u662f\u6709\u6548\u7684\u90ae\u7bb1",passRepeat:"\u5bc6\u7801\u4e24\u6b21\u8f93\u5165\u4e0d\u4e00\u81f4",oneOf:"\u5fc5\u987b\u4e3a: %{options}\u5176\u4e2d\u4e00\u9879",regex:"\u5fc5\u987b\u7b26\u5408\u6307\u5b9a\u7684\u683c\u5f0f (regexp): %{pattern}"}}},ga=a(24),va=a(406),Ea=a(172),ya=a(440),Oa=a.n(ya),wa=a(393),ka=a(228),ja=a(790),xa=a(810),Ca={cn:ba},_a=(Object(ga.c)({admin:ka.a,i18n:Object(ja.a)("cn",(pa="cn","en"!==pa?Ca[pa]:w.a)),form:va.a,router:re.routerReducer,user:X,currentWordbook:xt}),function(e){var t=e.authProvider,a=e.dataProvider,n=e.i18nProvider,r=void 0===n?wa.a:n,o=e.history,i=e.locale,c=void 0===i?"en":i,s=Object(ga.c)({admin:ka.a,i18n:Object(ja.a)(c,r(c)),form:va.a,router:re.routerReducer,user:X,currentWordbook:xt}),l=la.a.mark(function e(){return la.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ua.a)([Object(xa.a)(a,t,r),ma].map(ua.e));case 2:case"end":return e.stop()}},e,this)}),u=Object(Ea.a)(),d=Object(ga.e)(function(e,t){return s(t.type!==$.f?e:void 0,t)},{},Object(ga.d)(Object(ga.a)(u,Oa.a,Object(re.routerMiddleware)(o)),"undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__?window.__REDUX_DEVTOOLS_EXTENSION__():function(e){return e}));return u.run(l),d}),Sa=a(447),Wa=ca()({basename:"/"}),Na={cn:ba},Ta=function(e){return"en"!==e?Na[e]:w.a},Ia=(fa=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ra;return function(a,n,r){if(a===ze.i)return Promise.all(r.ids.map(function(a){return t("".concat(e,"/").concat(n,"/").concat(a),{method:"PUT",body:JSON.stringify(r.data)})})).then(function(e){return{data:e.map(function(e){return e.json})}});if(a===ze.c)return Promise.all(r.ids.map(function(a){return t("".concat(e,"/").concat(n,"/").concat(a),{method:"DELETE"})})).then(function(e){return{data:e.map(function(e){return e.json})}});var o=function(t,a,n){var r="",o={};switch(t){case ze.d:var i=n.pagination,c=i.page,s=i.perPage,l=n.sort,u=l.field,d=l.order,m=n.include,p={};p.where=Object(k.a)({},n.filter),u&&(p.order=[u+" "+d]),s>0&&(p.limit=s,c>=0&&(p.offset=(c-1)*s)),m&&(p.include=m),r="".concat(e,"/").concat(a,"?").concat(Object(ea.stringify)({filter:JSON.stringify(p)})),console.log("getlist",r);break;case ze.g:r="".concat(e,"/").concat(a,"/").concat(n.id);break;case ze.e:var h={where:{or:n.ids.map(function(e){return{id:e}})}};r="".concat(e,"/").concat(a,"?").concat(Object(ea.stringify)({filter:JSON.stringify(h)}));break;case ze.f:var f=n.pagination,b=f.page,g=f.perPage,v=n.sort,E=v.field,y=v.order,O=n.include,w={};w.where=Object(k.a)({},n.filter),w.where[n.target]=n.id,E&&(w.order=[E+" "+y]),g>0&&(w.limit=g,b>=0&&(w.skip=(b-1)*g)),O&&(w.include=O),r="".concat(e,"/").concat(a,"?").concat(Object(ea.stringify)({filter:JSON.stringify(w)}));break;case ze.h:r="".concat(e,"/").concat(a,"/").concat(n.id),o.method="PUT",o.body=JSON.stringify(n.data);break;case ze.a:r="".concat(e,"/").concat(a),o.method="POST",o.body=JSON.stringify(n.data);break;case ze.b:r="".concat(e,"/").concat(a,"/").concat(n.id),o.method="DELETE";break;default:throw new Error("Unsupported fetch action type ".concat(t))}return{url:r,options:o}}(a,n,r),i=o.url,c=o.options;return t(i,c).then(function(e){return function(e,t,a,n){var r=e.headers,o=e.json;switch(t){case ze.d:case ze.f:if(!r.has("content-range"))throw new Error("The Content-Range header is missing in the HTTP Response. The simple REST data provider expects responses for lists of resources to contain this header with the total number of results to build the pagination. If you are using CORS, did you declare Content-Range in the Access-Control-Expose-Headers header?");return{data:o,total:parseInt(r.get("content-range").split("/").pop(),10)};case ze.a:return{data:Object(k.a)({},n.data,{id:o.id})};case ze.b:return{data:Object(k.a)({},o,{id:n.id})};default:return{data:o}}}(e,a,0,r)})}}(ha="/api",function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.headers||(t.headers=new Headers({Accept:"application/json"}));var a=JSON.parse(localStorage.getItem("lbtoken"));return a&&a.value&&a.value.id&&t.headers.set("Authorization"," ".concat(a.value.id)),p.a.fetchJson(e,t)}),function(e,t,a){var n=t.split("/");return n.length>0&&["wordsfrombooks","testsfrombooks"].includes(n[0].toLowerCase())?(n[0]="Wordbooks",fa(e,n.join("/"),a)):!n[0]||"wordbooks"!==n[0].toLowerCase()||e!==ze.a&&e!==ze.h?!n[0]||"wordmappings"!==n[0].toLowerCase()||e!==ze.d&&e!==ze.f?fa(e,"sayhello"===t?"wordbooks/hellowords":t,a):fa(e,t,Object(k.a)({},a,{include:["wordbook","word"]})):fa(ze.a,"wordbooks/appcreate",a)}),Pa=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"/login";return function(t,n){if(t===oa.d){var r=new Request(e,{method:"POST",body:JSON.stringify(n),headers:new Headers({"Content-Type":"application/json"})});return fetch(r).then(function(e){if(e.status<200||e.status>=300)throw new Error(e.statusText);return e.json()}).then(function(e){var t=e.ttl,a=Object(j.a)(e,["ttl"]),r=n.username||n.email;a.username=r,ta("lbtoken",a,t)})}if(t===oa.e)return na("lbtoken"),Promise.resolve();if(t===oa.b)return n.status,Promise.resolve();if(t===oa.a){var o=aa("lbtoken");return o&&o.id&&o.username?Promise.resolve(o.username):(na("lbtoken"),Promise.reject({redirectTo:a}))}return Promise.reject("Unkown method")}}("".concat(ha,"/AppUsers/login"),Wa),Ra=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={currentWordbook:""},a.setCurrentWordbook=function(e){a.setState({currentWordbook:e})},a.WList=Wt(a.setCurrentWordbook),a.PList=Bt(a.setCurrentWordbook),a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return console.log("app this.setcurrentwordbook",this.setCurrentWordbook),r.a.createElement(c.a,{store:_a({authProvider:Pa,dataProvider:Ia,i18nProvider:Ta,history:Wa,locale:"cn"})},r.a.createElement(h.a,{loginPage:te,history:Wa,appLayout:Ue,customRoutes:de,authProvider:Pa},r.a.createElement(f.a,{name:"Wordbooks",list:this.WList,show:Pt,edit:Nt,create:Rt}),r.a.createElement(f.a,{name:"AppUsers/me/practices",list:this.PList,options:{label:"\u6211\u7684\u7ec3\u4e60"}}),r.a.createElement(f.a,{name:"Words",list:Dt,show:b.a,edit:g.a,create:Ft}),r.a.createElement(f.a,{name:"WordMappings",list:Zt}),r.a.createElement(f.a,{name:"sayhello",list:Yt})))}}]),t}(n.Component),La=Object(Sa.hot)(Ra);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(La,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[452,2,1]]]);
//# sourceMappingURL=main.b9f9a029.chunk.js.map